<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MP4v2: MP4v2 File I/O</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="project.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MP4v2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MP4v2 File I/O</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure of functions implementing custom file provider.  <a href="struct_m_p4_file_provider__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_p4_i_o_callbacks__s.html">MP4IOCallbacks_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure of functions implementing custom I/O callbacks.  <a href="struct_m_p4_i_o_callbacks__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga548b75af24607211fc865f13989feb5a"><td class="memItemLeft" align="right" valign="top"><a id="ga548b75af24607211fc865f13989feb5a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga548b75af24607211fc865f13989feb5a">MP4_CREATE_64BIT_DATA</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:ga548b75af24607211fc865f13989feb5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit: enable 64-bit data-atoms. <br /></td></tr>
<tr class="separator:ga548b75af24607211fc865f13989feb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5d3ff6b04ffa9a2f7ffe36196fb96f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gac5d3ff6b04ffa9a2f7ffe36196fb96f7">MP4_CREATE_64BIT_TIME</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:gac5d3ff6b04ffa9a2f7ffe36196fb96f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit: enable 64-bit time-atoms.  <a href="group__mp4__file.html#gac5d3ff6b04ffa9a2f7ffe36196fb96f7">More...</a><br /></td></tr>
<tr class="separator:gac5d3ff6b04ffa9a2f7ffe36196fb96f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaded771736ec4488580cc4df0b4938ec3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gaded771736ec4488580cc4df0b4938ec3">MP4_CLOSE_DO_NOT_COMPUTE_BITRATE</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:gaded771736ec4488580cc4df0b4938ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit: do not recompute avg/max bitrates on file close.  <a href="group__mp4__file.html#gaded771736ec4488580cc4df0b4938ec3">More...</a><br /></td></tr>
<tr class="separator:gaded771736ec4488580cc4df0b4938ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf6502ecfdbbb3f2fad789c35ac95d787"><td class="memItemLeft" align="right" valign="top"><a id="gaf6502ecfdbbb3f2fad789c35ac95d787"></a>
typedef enum <a class="el" href="group__mp4__file.html#gad409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gaf6502ecfdbbb3f2fad789c35ac95d787">MP4FileMode</a></td></tr>
<tr class="memdesc:gaf6502ecfdbbb3f2fad789c35ac95d787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of file modes for custom file provider. <br /></td></tr>
<tr class="separator:gaf6502ecfdbbb3f2fad789c35ac95d787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5172fc7d1c94576a0cd92031fa4fdbc"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gae5172fc7d1c94576a0cd92031fa4fdbc">MP4FileProvider</a></td></tr>
<tr class="memdesc:gae5172fc7d1c94576a0cd92031fa4fdbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure of functions implementing custom file provider.  <a href="group__mp4__file.html#gae5172fc7d1c94576a0cd92031fa4fdbc">More...</a><br /></td></tr>
<tr class="separator:gae5172fc7d1c94576a0cd92031fa4fdbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga725e5bf294b29d5d4c105f402d109afb"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_m_p4_i_o_callbacks__s.html">MP4IOCallbacks_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb">MP4IOCallbacks</a></td></tr>
<tr class="memdesc:ga725e5bf294b29d5d4c105f402d109afb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure of functions implementing custom I/O callbacks.  <a href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb">More...</a><br /></td></tr>
<tr class="separator:ga725e5bf294b29d5d4c105f402d109afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad409ae4e64c51d2e831968b5adcb3711"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gad409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a> { <br />
&#160;&#160;<a class="el" href="group__mp4__file.html#ggad409ae4e64c51d2e831968b5adcb3711a36fc6f169700cbc8a04264f2237edc41">FILEMODE_UNDEFINED</a>, 
<a class="el" href="group__mp4__file.html#ggad409ae4e64c51d2e831968b5adcb3711a92dc5629e6fc20c2b7f3436495a0ad5b">FILEMODE_READ</a>, 
<a class="el" href="group__mp4__file.html#ggad409ae4e64c51d2e831968b5adcb3711a7b48e7deef54a298274319e8dae11405">FILEMODE_MODIFY</a>, 
<br />
&#160;&#160;<a class="el" href="group__mp4__file.html#ggad409ae4e64c51d2e831968b5adcb3711aac9ceaf0626526fabf37ef5aecca9bbc">FILEMODE_CREATE</a>
<br />
 }</td></tr>
<tr class="memdesc:gad409ae4e64c51d2e831968b5adcb3711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of file modes for custom file provider.  <a href="group__mp4__file.html#gad409ae4e64c51d2e831968b5adcb3711">More...</a><br /></td></tr>
<tr class="separator:gad409ae4e64c51d2e831968b5adcb3711"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga484d26d892b561ab0a95f9ce79036dfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga484d26d892b561ab0a95f9ce79036dfa">MP4Close</a> (MP4FileHandle hFile, uint32_t flags=0)</td></tr>
<tr class="memdesc:ga484d26d892b561ab0a95f9ce79036dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an mp4 file.  <a href="group__mp4__file.html#ga484d26d892b561ab0a95f9ce79036dfa">More...</a><br /></td></tr>
<tr class="separator:ga484d26d892b561ab0a95f9ce79036dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefe87ffbb7f24afe1cd0272b811fe360"><td class="memItemLeft" align="right" valign="top">MP4FileHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gaefe87ffbb7f24afe1cd0272b811fe360">MP4Create</a> (const char *fileName, uint32_t flags=0)</td></tr>
<tr class="memdesc:gaefe87ffbb7f24afe1cd0272b811fe360"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new mp4 file.  <a href="group__mp4__file.html#gaefe87ffbb7f24afe1cd0272b811fe360">More...</a><br /></td></tr>
<tr class="separator:gaefe87ffbb7f24afe1cd0272b811fe360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2af31d01ce33096ba5cd0304b23b584"><td class="memItemLeft" align="right" valign="top">MP4FileHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gaf2af31d01ce33096ba5cd0304b23b584">MP4CreateEx</a> (const char *fileName, uint32_t flags=0, int add_ftyp=1, int add_iods=1, char *majorBrand=0, uint32_t minorVersion=0, char **compatibleBrands=0, uint32_t compatibleBrandsCount=0)</td></tr>
<tr class="memdesc:gaf2af31d01ce33096ba5cd0304b23b584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new mp4 file with extended options.  <a href="group__mp4__file.html#gaf2af31d01ce33096ba5cd0304b23b584">More...</a><br /></td></tr>
<tr class="separator:gaf2af31d01ce33096ba5cd0304b23b584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae961aa94d0b0747bfcd54f72d1b24c22"><td class="memItemLeft" align="right" valign="top">MP4FileHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gae961aa94d0b0747bfcd54f72d1b24c22">MP4CreateCallbacks</a> (const <a class="el" href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb">MP4IOCallbacks</a> *callbacks, void *handle=NULL, uint32_t flags=0)</td></tr>
<tr class="memdesc:gae961aa94d0b0747bfcd54f72d1b24c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new mp4 file.  <a href="group__mp4__file.html#gae961aa94d0b0747bfcd54f72d1b24c22">More...</a><br /></td></tr>
<tr class="separator:gae961aa94d0b0747bfcd54f72d1b24c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dff1533f7dcb2a3432e1b92b78a44f3"><td class="memItemLeft" align="right" valign="top">MP4FileHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga3dff1533f7dcb2a3432e1b92b78a44f3">MP4CreateCallbacksEx</a> (const <a class="el" href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb">MP4IOCallbacks</a> *callbacks, void *handle=NULL, uint32_t flags=0, int add_ftyp=1, int add_iods=1, char *majorBrand=0, uint32_t minorVersion=0, char **compatibleBrands=0, uint32_t compatibleBrandsCount=0)</td></tr>
<tr class="memdesc:ga3dff1533f7dcb2a3432e1b92b78a44f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new mp4 file with extended options.  <a href="group__mp4__file.html#ga3dff1533f7dcb2a3432e1b92b78a44f3">More...</a><br /></td></tr>
<tr class="separator:ga3dff1533f7dcb2a3432e1b92b78a44f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37be2b29448d5d453f3e7b0857f7cb3d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga37be2b29448d5d453f3e7b0857f7cb3d">MP4Dump</a> (MP4FileHandle hFile, bool dumpImplicits=0)</td></tr>
<tr class="memdesc:ga37be2b29448d5d453f3e7b0857f7cb3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump mp4 file contents as ASCII either to stdout or the log callback (see <a class="el" href="group__mp4__general.html#ga95fb48c8d31d2ad10a0e95bfc64d99e4" title="Set the function to call in place of default logging behavior.">MP4SetLogCallback()</a>)  <a href="group__mp4__file.html#ga37be2b29448d5d453f3e7b0857f7cb3d">More...</a><br /></td></tr>
<tr class="separator:ga37be2b29448d5d453f3e7b0857f7cb3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a77cfc76a54fbd45d4cecec0f7ff373"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga5a77cfc76a54fbd45d4cecec0f7ff373">MP4FileInfo</a> (const char *fileName, MP4TrackId trackId=<a class="el" href="group__mp4__general.html#ga20022a4a97dd9c2031ae2a1ef6db7241">MP4_INVALID_TRACK_ID</a>)</td></tr>
<tr class="memdesc:ga5a77cfc76a54fbd45d4cecec0f7ff373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a textual summary of an mp4 file.  <a href="group__mp4__file.html#ga5a77cfc76a54fbd45d4cecec0f7ff373">More...</a><br /></td></tr>
<tr class="separator:ga5a77cfc76a54fbd45d4cecec0f7ff373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51d467fbdc44136f18c62e2481b08744"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga51d467fbdc44136f18c62e2481b08744">MP4GetFilename</a> (MP4FileHandle hFile)</td></tr>
<tr class="memdesc:ga51d467fbdc44136f18c62e2481b08744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor for the filename associated with a file handle.  <a href="group__mp4__file.html#ga51d467fbdc44136f18c62e2481b08744">More...</a><br /></td></tr>
<tr class="separator:ga51d467fbdc44136f18c62e2481b08744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3aba729fc3d51e7cfbd50c077f95add3"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga3aba729fc3d51e7cfbd50c077f95add3">MP4Info</a> (MP4FileHandle hFile, MP4TrackId trackId=<a class="el" href="group__mp4__general.html#ga20022a4a97dd9c2031ae2a1ef6db7241">MP4_INVALID_TRACK_ID</a>)</td></tr>
<tr class="memdesc:ga3aba729fc3d51e7cfbd50c077f95add3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a textual summary of an mp4 file.  <a href="group__mp4__file.html#ga3aba729fc3d51e7cfbd50c077f95add3">More...</a><br /></td></tr>
<tr class="separator:ga3aba729fc3d51e7cfbd50c077f95add3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fc8331224485351cfbaec4d0194b623"><td class="memItemLeft" align="right" valign="top">MP4FileHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga3fc8331224485351cfbaec4d0194b623">MP4Modify</a> (const char *fileName, uint32_t flags=0)</td></tr>
<tr class="memdesc:ga3fc8331224485351cfbaec4d0194b623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modify an existing mp4 file.  <a href="group__mp4__file.html#ga3fc8331224485351cfbaec4d0194b623">More...</a><br /></td></tr>
<tr class="separator:ga3fc8331224485351cfbaec4d0194b623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92ec3d4bc643cc9fc9eb5731ea60443a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga92ec3d4bc643cc9fc9eb5731ea60443a">MP4Optimize</a> (const char *fileName, const char *newFileName=NULL)</td></tr>
<tr class="memdesc:ga92ec3d4bc643cc9fc9eb5731ea60443a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optimize the layout of an mp4 file.  <a href="group__mp4__file.html#ga92ec3d4bc643cc9fc9eb5731ea60443a">More...</a><br /></td></tr>
<tr class="separator:ga92ec3d4bc643cc9fc9eb5731ea60443a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f1564d6288d6d2dd57f0516c6df33d5"><td class="memItemLeft" align="right" valign="top">MP4FileHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#ga5f1564d6288d6d2dd57f0516c6df33d5">MP4Read</a> (const char *fileName)</td></tr>
<tr class="memdesc:ga5f1564d6288d6d2dd57f0516c6df33d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an existing mp4 file.  <a href="group__mp4__file.html#ga5f1564d6288d6d2dd57f0516c6df33d5">More...</a><br /></td></tr>
<tr class="separator:ga5f1564d6288d6d2dd57f0516c6df33d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad244931e122a46370c0c33842fef9b71"><td class="memItemLeft" align="right" valign="top">MP4FileHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gad244931e122a46370c0c33842fef9b71">MP4ReadProvider</a> (const char *fileName, const <a class="el" href="group__mp4__file.html#gae5172fc7d1c94576a0cd92031fa4fdbc">MP4FileProvider</a> *fileProvider=NULL)</td></tr>
<tr class="memdesc:gad244931e122a46370c0c33842fef9b71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an existing mp4 file.  <a href="group__mp4__file.html#gad244931e122a46370c0c33842fef9b71">More...</a><br /></td></tr>
<tr class="separator:gad244931e122a46370c0c33842fef9b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae03164071fc6eb30b2d8270b080ecf24"><td class="memItemLeft" align="right" valign="top">MP4FileHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mp4__file.html#gae03164071fc6eb30b2d8270b080ecf24">MP4ReadCallbacks</a> (const <a class="el" href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb">MP4IOCallbacks</a> *callbacks, void *handle=NULL)</td></tr>
<tr class="memdesc:gae03164071fc6eb30b2d8270b080ecf24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an existing mp4 file.  <a href="group__mp4__file.html#gae03164071fc6eb30b2d8270b080ecf24">More...</a><br /></td></tr>
<tr class="separator:gae03164071fc6eb30b2d8270b080ecf24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaded771736ec4488580cc4df0b4938ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaded771736ec4488580cc4df0b4938ec3">&#9670;&nbsp;</a></span>MP4_CLOSE_DO_NOT_COMPUTE_BITRATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_CLOSE_DO_NOT_COMPUTE_BITRATE&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bit: do not recompute avg/max bitrates on file close. </p>
<dl class="section note"><dt>Note</dt><dd>See <a href="http://code.google.com/p/mp4v2/issues/detail?id=66">http://code.google.com/p/mp4v2/issues/detail?id=66</a> </dd></dl>

</div>
</div>
<a id="gac5d3ff6b04ffa9a2f7ffe36196fb96f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5d3ff6b04ffa9a2f7ffe36196fb96f7">&#9670;&nbsp;</a></span>MP4_CREATE_64BIT_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MP4_CREATE_64BIT_TIME&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bit: enable 64-bit time-atoms. </p>
<dl class="section note"><dt>Note</dt><dd>Incompatible with QuickTime. </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gae5172fc7d1c94576a0cd92031fa4fdbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae5172fc7d1c94576a0cd92031fa4fdbc">&#9670;&nbsp;</a></span>MP4FileProvider</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_m_p4_file_provider__s.html">MP4FileProvider_s</a> <a class="el" href="group__mp4__file.html#gae5172fc7d1c94576a0cd92031fa4fdbc">MP4FileProvider</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure of functions implementing custom file provider. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>The file provider API is deprecated since MP4v2 2.1.0. Please use MP4IOCallbacks instead.</dd></dl>
<p>Except for <b>open</b>, all the functions must return 0 upon success or a non-zero value to indicate failure. The open function must return a pointer or handle which represents the open file, otherwise NULL.</p>
<p>The reserved argument is currently always 0 and should be ignored.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb" title="Structure of functions implementing custom I/O callbacks.">MP4IOCallbacks</a> </dd></dl>

</div>
</div>
<a id="ga725e5bf294b29d5d4c105f402d109afb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga725e5bf294b29d5d4c105f402d109afb">&#9670;&nbsp;</a></span>MP4IOCallbacks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_m_p4_i_o_callbacks__s.html">MP4IOCallbacks_s</a> <a class="el" href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb">MP4IOCallbacks</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure of functions implementing custom I/O callbacks. </p>
<p>Except for <b>size</b>, all the functions must return 0 upon success or a non-zero value to indicate failure. The size function must return the size of the file/buffer or -1 in case of failure. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gad409ae4e64c51d2e831968b5adcb3711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad409ae4e64c51d2e831968b5adcb3711">&#9670;&nbsp;</a></span>MP4FileMode_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__mp4__file.html#gad409ae4e64c51d2e831968b5adcb3711">MP4FileMode_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of file modes for custom file provider. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggad409ae4e64c51d2e831968b5adcb3711a36fc6f169700cbc8a04264f2237edc41"></a>FILEMODE_UNDEFINED&#160;</td><td class="fielddoc"><p>undefined </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad409ae4e64c51d2e831968b5adcb3711a92dc5629e6fc20c2b7f3436495a0ad5b"></a>FILEMODE_READ&#160;</td><td class="fielddoc"><p>file may be read </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad409ae4e64c51d2e831968b5adcb3711a7b48e7deef54a298274319e8dae11405"></a>FILEMODE_MODIFY&#160;</td><td class="fielddoc"><p>file may be read/written </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad409ae4e64c51d2e831968b5adcb3711aac9ceaf0626526fabf37ef5aecca9bbc"></a>FILEMODE_CREATE&#160;</td><td class="fielddoc"><p>file will be created/truncated for read/write </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga484d26d892b561ab0a95f9ce79036dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga484d26d892b561ab0a95f9ce79036dfa">&#9670;&nbsp;</a></span>MP4Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MP4Close </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&#160;</td>
          <td class="paramname"><em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close an mp4 file. </p>
<p>MP4Close closes a previously opened mp4 file. If the file was opened writable with <a class="el" href="group__mp4__file.html#gaefe87ffbb7f24afe1cd0272b811fe360" title="Create a new mp4 file.">MP4Create()</a> or <a class="el" href="group__mp4__file.html#ga3fc8331224485351cfbaec4d0194b623" title="Modify an existing mp4 file.">MP4Modify()</a>, then <a class="el" href="group__mp4__file.html#ga484d26d892b561ab0a95f9ce79036dfa" title="Close an mp4 file.">MP4Close()</a> will write out all pending information to disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hFile</td><td>handle of file to close. </td></tr>
    <tr><td class="paramname">flags</td><td>bitmask that allows the user to set extra options for the close commands. Valid options include: <ul>
<li><a class="el" href="group__mp4__file.html#gaded771736ec4488580cc4df0b4938ec3" title="Bit: do not recompute avg/max bitrates on file close.">MP4_CLOSE_DO_NOT_COMPUTE_BITRATE</a> </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_2itmf_2generic_8c-example.html#a22">example/itmf/generic.c</a>, <a class="el" href="example_2itmf_2tags_8c-example.html#a66">example/itmf/tags.c</a>, and <a class="el" href="example_2provider_2provider_8c-example.html#a13">example/provider/provider.c</a>.</dd>
</dl>

</div>
</div>
<a id="gaefe87ffbb7f24afe1cd0272b811fe360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaefe87ffbb7f24afe1cd0272b811fe360">&#9670;&nbsp;</a></span>MP4Create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4Create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new mp4 file. </p>
<p>MP4Create is the first call that should be used when you want to create a new, empty mp4 file. It is equivalent to opening a file for writing, but also involved with creation of necessary mp4 framework structures. I.e. invoking <a class="el" href="group__mp4__file.html#gaefe87ffbb7f24afe1cd0272b811fe360" title="Create a new mp4 file.">MP4Create()</a> followed by <a class="el" href="group__mp4__file.html#ga484d26d892b561ab0a95f9ce79036dfa" title="Close an mp4 file.">MP4Close()</a> will result in a file with a non-zero size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>pathname of the file to be created. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td class="paramname">flags</td><td>bitmask that allows the user to set 64-bit values for data or time atoms. Valid bits may be any combination of: <ul>
<li><a class="el" href="group__mp4__file.html#ga548b75af24607211fc865f13989feb5a" title="Bit: enable 64-bit data-atoms.">MP4_CREATE_64BIT_DATA</a> </li>
<li><a class="el" href="group__mp4__file.html#gac5d3ff6b04ffa9a2f7ffe36196fb96f7" title="Bit: enable 64-bit time-atoms.">MP4_CREATE_64BIT_TIME</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a handle of the newly created file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>

</div>
</div>
<a id="gae961aa94d0b0747bfcd54f72d1b24c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae961aa94d0b0747bfcd54f72d1b24c22">&#9670;&nbsp;</a></span>MP4CreateCallbacks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4CreateCallbacks </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb">MP4IOCallbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new mp4 file. </p>
<p>MP4CreateCallbacks is the first call that should be used when you want to create a new, empty mp4 file. It is equivalent to opening a file for writing, but also involved with creation of necessary mp4 framework structures. I.e. invoking <a class="el" href="group__mp4__file.html#gae961aa94d0b0747bfcd54f72d1b24c22" title="Create a new mp4 file.">MP4CreateCallbacks()</a> followed by <a class="el" href="group__mp4__file.html#ga484d26d892b561ab0a95f9ce79036dfa" title="Close an mp4 file.">MP4Close()</a> will result in a file with a non-zero size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>custom implementation of I/O operations. The size, seek and write callbacks must be implemented. The callbacks structure is immediately copied internally. </td></tr>
    <tr><td class="paramname">handle</td><td>a custom handle that will be passed as the first argument to any callback function call. This can be used to pass a handle to an application specific I/O object or an application defined struct containing a pointer to a buffer. </td></tr>
    <tr><td class="paramname">flags</td><td>bitmask that allows the user to set 64-bit values for data or time atoms. Valid bits may be any combination of: <ul>
<li><a class="el" href="group__mp4__file.html#ga548b75af24607211fc865f13989feb5a" title="Bit: enable 64-bit data-atoms.">MP4_CREATE_64BIT_DATA</a> </li>
<li><a class="el" href="group__mp4__file.html#gac5d3ff6b04ffa9a2f7ffe36196fb96f7" title="Bit: enable 64-bit time-atoms.">MP4_CREATE_64BIT_TIME</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a handle of the newly created file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>

</div>
</div>
<a id="ga3dff1533f7dcb2a3432e1b92b78a44f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3dff1533f7dcb2a3432e1b92b78a44f3">&#9670;&nbsp;</a></span>MP4CreateCallbacksEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4CreateCallbacksEx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb">MP4IOCallbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>add_ftyp</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>add_iods</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>majorBrand</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>minorVersion</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>compatibleBrands</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>compatibleBrandsCount</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new mp4 file with extended options. </p>
<p>MP4CreateCallbacksEx is an extended version of <a class="el" href="group__mp4__file.html#gae961aa94d0b0747bfcd54f72d1b24c22" title="Create a new mp4 file.">MP4CreateCallbacks()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>custom implementation of I/O operations. The size, seek and write callbacks must be implemented. The callbacks structure is immediately copied internally. </td></tr>
    <tr><td class="paramname">handle</td><td>a custom handle that will be passed as the first argument to any callback function call. This can be used to pass a handle to an application specific I/O object or an application defined struct containing a pointer to a buffer. </td></tr>
    <tr><td class="paramname">flags</td><td>bitmask that allows the user to set 64-bit values for data or time atoms. Valid bits may be any combination of: <ul>
<li><a class="el" href="group__mp4__file.html#ga548b75af24607211fc865f13989feb5a" title="Bit: enable 64-bit data-atoms.">MP4_CREATE_64BIT_DATA</a> </li>
<li><a class="el" href="group__mp4__file.html#gac5d3ff6b04ffa9a2f7ffe36196fb96f7" title="Bit: enable 64-bit time-atoms.">MP4_CREATE_64BIT_TIME</a> </li>
</ul>
</td></tr>
    <tr><td class="paramname">add_ftyp</td><td>if true an <b>ftyp</b> atom is automatically created. </td></tr>
    <tr><td class="paramname">add_iods</td><td>if true an <b>iods</b> atom is automatically created. </td></tr>
    <tr><td class="paramname">majorBrand</td><td><b>ftyp</b> brand identifier. </td></tr>
    <tr><td class="paramname">minorVersion</td><td><b>ftyp</b> informative integer for the minor version of the major brand. </td></tr>
    <tr><td class="paramname">compatibleBrands</td><td><b>ftyp</b> list of compatible brands. </td></tr>
    <tr><td class="paramname">compatibleBrandsCount</td><td>is the count of items specified in compatibleBrands.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a handle of the newly created file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>

</div>
</div>
<a id="gaf2af31d01ce33096ba5cd0304b23b584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2af31d01ce33096ba5cd0304b23b584">&#9670;&nbsp;</a></span>MP4CreateEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4CreateEx </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>add_ftyp</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>add_iods</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>majorBrand</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>minorVersion</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>compatibleBrands</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>compatibleBrandsCount</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new mp4 file with extended options. </p>
<p>MP4CreateEx is an extended version of <a class="el" href="group__mp4__file.html#gaefe87ffbb7f24afe1cd0272b811fe360" title="Create a new mp4 file.">MP4Create()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>pathname of the file to be created. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td class="paramname">flags</td><td>bitmask that allows the user to set 64-bit values for data or time atoms. Valid bits may be any combination of: <ul>
<li><a class="el" href="group__mp4__file.html#ga548b75af24607211fc865f13989feb5a" title="Bit: enable 64-bit data-atoms.">MP4_CREATE_64BIT_DATA</a> </li>
<li><a class="el" href="group__mp4__file.html#gac5d3ff6b04ffa9a2f7ffe36196fb96f7" title="Bit: enable 64-bit time-atoms.">MP4_CREATE_64BIT_TIME</a> </li>
</ul>
</td></tr>
    <tr><td class="paramname">add_ftyp</td><td>if true an <b>ftyp</b> atom is automatically created. </td></tr>
    <tr><td class="paramname">add_iods</td><td>if true an <b>iods</b> atom is automatically created. </td></tr>
    <tr><td class="paramname">majorBrand</td><td><b>ftyp</b> brand identifier. </td></tr>
    <tr><td class="paramname">minorVersion</td><td><b>ftyp</b> informative integer for the minor version of the major brand. </td></tr>
    <tr><td class="paramname">compatibleBrands</td><td><b>ftyp</b> list of compatible brands. </td></tr>
    <tr><td class="paramname">compatibleBrandsCount</td><td>is the count of items specified in compatibleBrands.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a handle of the newly created file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>

</div>
</div>
<a id="ga37be2b29448d5d453f3e7b0857f7cb3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37be2b29448d5d453f3e7b0857f7cb3d">&#9670;&nbsp;</a></span>MP4Dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MP4Dump </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&#160;</td>
          <td class="paramname"><em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dumpImplicits</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump mp4 file contents as ASCII either to stdout or the log callback (see <a class="el" href="group__mp4__general.html#ga95fb48c8d31d2ad10a0e95bfc64d99e4" title="Set the function to call in place of default logging behavior.">MP4SetLogCallback()</a>) </p>
<p>Dump is an invaluable debugging tool in that in can reveal all the details of the mp4 control structures. However, the output will not make much sense until you familiarize yourself with the mp4 specification (or the Quicktime File Format specification).</p>
<p>Note that <a class="el" href="group__mp4__file.html#ga37be2b29448d5d453f3e7b0857f7cb3d" title="Dump mp4 file contents as ASCII either to stdout or the log callback (see MP4SetLogCallback())">MP4Dump()</a> will not print the individual values of control tables, such as the size of each sample, unless the current log level is at least <b>MP4_LOG_VERBOSE2</b>. See MP4LogSetLevel() for how to set this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hFile</td><td>handle of file to dump. </td></tr>
    <tr><td class="paramname">dumpImplicits</td><td>prints properties which would not actually be written to the mp4 file, but still exist in mp4 control structures. I.e. they are implicit given the current values of other controlling properties.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><b>true</b> on success, <b>false</b> on failure. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_2provider_2provider_8c-example.html#a12">example/provider/provider.c</a>.</dd>
</dl>

</div>
</div>
<a id="ga5a77cfc76a54fbd45d4cecec0f7ff373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a77cfc76a54fbd45d4cecec0f7ff373">&#9670;&nbsp;</a></span>MP4FileInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* MP4FileInfo </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MP4TrackId&#160;</td>
          <td class="paramname"><em>trackId</em> = <code><a class="el" href="group__mp4__general.html#ga20022a4a97dd9c2031ae2a1ef6db7241">MP4_INVALID_TRACK_ID</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a textual summary of an mp4 file. </p>
<p>MP4FileInfo provides a string that contains a textual summary of the contents of an mp4 file. This includes the track id's, the track type, and track specific information. For example, for a video track, media encoding, image size, frame rate, and bitrate are summarized.</p>
<p>Note that the returned string is allocated by the library, so it is the caller's responsibility to release the string with MP4Free(). Also note that the returned string contains newlines and tabs which may or may not be desirable.</p>
<p>The following is an example of the output of <a class="el" href="group__mp4__file.html#ga3aba729fc3d51e7cfbd50c077f95add3" title="Return a textual summary of an mp4 file.">MP4Info()</a>: </p><pre class="fragment">Track  Type   Info
1      video  MPEG-4 Simple @ L3, 119.625 secs, 1008 kbps, 352x288 @ 24.00 fps
2      audio  MPEG-4, 119.327 secs, 128 kbps, 44100 Hz
3      hint   Payload MP4V-ES for track 1
4      hint   Payload mpeg4-generic for track 2
5      od     Object Descriptors
6      scene  BIFS
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>pathname to mp4 file to summarize. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td class="paramname">trackId</td><td>specifies track to summarize. If the value is <a class="el" href="group__mp4__general.html#ga20022a4a97dd9c2031ae2a1ef6db7241" title="Constant: invalid MP4TrackId.">MP4_INVALID_TRACK_ID</a>, the summary info is created for all tracks in the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a newly allocated string containing summary information. On failure, <b>NULL</b>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__mp4__file.html#ga3aba729fc3d51e7cfbd50c077f95add3" title="Return a textual summary of an mp4 file.">MP4Info()</a> </dd></dl>

</div>
</div>
<a id="ga51d467fbdc44136f18c62e2481b08744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51d467fbdc44136f18c62e2481b08744">&#9670;&nbsp;</a></span>MP4GetFilename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* MP4GetFilename </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&#160;</td>
          <td class="paramname"><em>hFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accessor for the filename associated with a file handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hFile</td><td>a file handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the NUL-terminated, UTF-8 encoded filename associated with <code>hFile</code>. </dd></dl>

</div>
</div>
<a id="ga3aba729fc3d51e7cfbd50c077f95add3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3aba729fc3d51e7cfbd50c077f95add3">&#9670;&nbsp;</a></span>MP4Info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* MP4Info </td>
          <td>(</td>
          <td class="paramtype">MP4FileHandle&#160;</td>
          <td class="paramname"><em>hFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MP4TrackId&#160;</td>
          <td class="paramname"><em>trackId</em> = <code><a class="el" href="group__mp4__general.html#ga20022a4a97dd9c2031ae2a1ef6db7241">MP4_INVALID_TRACK_ID</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a textual summary of an mp4 file. </p>
<p>MP4FileInfo provides a string that contains a textual summary of the contents of an mp4 file. This includes the track id's, the track type, and track specific information. For example, for a video track, media encoding, image size, frame rate, and bitrate are summarized.</p>
<p>Note that the returned string is allocated by the library, so it is the caller's responsibility to release the string with MP4Free(). Also note that the returned string contains newlines and tabs which may or may not be desirable.</p>
<p>The following is an example of the output of <a class="el" href="group__mp4__file.html#ga3aba729fc3d51e7cfbd50c077f95add3" title="Return a textual summary of an mp4 file.">MP4Info()</a>: </p><pre class="fragment">Track  Type   Info
1      video  MPEG-4 Simple @ L3, 119.625 secs, 1008 kbps, 352x288 @ 24.00 fps
2      audio  MPEG-4, 119.327 secs, 128 kbps, 44100 Hz
3      hint   Payload MP4V-ES for track 1
4      hint   Payload mpeg4-generic for track 2
5      od     Object Descriptors
6      scene  BIFS
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hFile</td><td>handle of file to summarize. </td></tr>
    <tr><td class="paramname">trackId</td><td>specifies track to summarize. If the value is <a class="el" href="group__mp4__general.html#ga20022a4a97dd9c2031ae2a1ef6db7241" title="Constant: invalid MP4TrackId.">MP4_INVALID_TRACK_ID</a>, the summary info is created for all tracks in the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a newly allocated string containing summary information. On failure, <b>NULL</b>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__mp4__file.html#ga5a77cfc76a54fbd45d4cecec0f7ff373" title="Return a textual summary of an mp4 file.">MP4FileInfo()</a> </dd></dl>

</div>
</div>
<a id="ga3fc8331224485351cfbaec4d0194b623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3fc8331224485351cfbaec4d0194b623">&#9670;&nbsp;</a></span>MP4Modify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4Modify </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modify an existing mp4 file. </p>
<p>MP4Modify is the first call that should be used when you want to modify an existing mp4 file. It is roughly equivalent to opening a file in read/write mode.</p>
<p>Since modifications to an existing mp4 file can result in a sub-optimal file layout, you may want to use <a class="el" href="group__mp4__file.html#ga92ec3d4bc643cc9fc9eb5731ea60443a" title="Optimize the layout of an mp4 file.">MP4Optimize()</a> after you have modified and closed the mp4 file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>pathname of the file to be modified. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td class="paramname">flags</td><td>currently ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a handle of the target file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_2itmf_2generic_8c-example.html#a0">example/itmf/generic.c</a>, and <a class="el" href="example_2itmf_2tags_8c-example.html#a0">example/itmf/tags.c</a>.</dd>
</dl>

</div>
</div>
<a id="ga92ec3d4bc643cc9fc9eb5731ea60443a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92ec3d4bc643cc9fc9eb5731ea60443a">&#9670;&nbsp;</a></span>MP4Optimize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MP4Optimize </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newFileName</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optimize the layout of an mp4 file. </p>
<p>MP4Optimize reads an existing mp4 file and writes a new version of the file with the two important changes:</p>
<p>First, the mp4 control information is moved to the beginning of the file. (Frequenty it is at the end of the file due to it being constantly modified as track samples are added to an mp4 file). This optimization is useful in that in allows the mp4 file to be HTTP streamed.</p>
<p>Second, the track samples are interleaved so that the samples for a particular instant in time are colocated within the file. This eliminates disk seeks during playback of the file which results in better performance.</p>
<p>There are also two important side effects of <a class="el" href="group__mp4__file.html#ga92ec3d4bc643cc9fc9eb5731ea60443a" title="Optimize the layout of an mp4 file.">MP4Optimize()</a>:</p>
<p>First, any free blocks within the mp4 file are eliminated.</p>
<p>Second, as a side effect of the sample interleaving process any media data chunks that are not actually referenced by the mp4 control structures are deleted. This is useful if you have called <a class="el" href="group__mp4__track.html#gaffa2201f7d7bcfcc4fe2fd97bef029d8" title="Delete a track.">MP4DeleteTrack()</a> which only deletes the control information for a track, and not the actual media data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>pathname of (existing) file to be optimized. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td class="paramname">newFileName</td><td>pathname of the new optimized file. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). If NULL a temporary file in the same directory as the <b>fileName</b> will be used and <b>fileName</b> will be over-written upon successful completion.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><b>true</b> on success, <b>false</b> on failure. </dd></dl>

</div>
</div>
<a id="ga5f1564d6288d6d2dd57f0516c6df33d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f1564d6288d6d2dd57f0516c6df33d5">&#9670;&nbsp;</a></span>MP4Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4Read </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read an existing mp4 file. </p>
<p>MP4Read is the first call that should be used when you want to just read an existing mp4 file. It is equivalent to opening a file for reading, but in addition the mp4 file is parsed and the control information is loaded into memory. Note that actual track samples are not read into memory until <a class="el" href="group__mp4__sample.html#ga8d62988a2bc1563546b4b420d782377b" title="Read a track sample.">MP4ReadSample()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>pathname of the file to be read. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a handle of the file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>

</div>
</div>
<a id="gae03164071fc6eb30b2d8270b080ecf24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae03164071fc6eb30b2d8270b080ecf24">&#9670;&nbsp;</a></span>MP4ReadCallbacks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4ReadCallbacks </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__mp4__file.html#ga725e5bf294b29d5d4c105f402d109afb">MP4IOCallbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handle</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read an existing mp4 file. </p>
<p>MP4ReadCallbacks is the first call that should be used when you want to just read an existing mp4 file. It is equivalent to opening a file for reading, but in addition the mp4 file is parsed and the control information is loaded into memory. Note that actual track samples are not read into memory until <a class="el" href="group__mp4__sample.html#ga8d62988a2bc1563546b4b420d782377b" title="Read a track sample.">MP4ReadSample()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>custom implementation of I/O operations. The size, seek and read callbacks must be implemented. The callbacks structure is immediately copied internally. </td></tr>
    <tr><td class="paramname">handle</td><td>a custom handle that will be passed as the first argument to any callback function call. This can be used to pass a handle to an application specific I/O object or an application defined struct containing a pointer to a buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a handle of the file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>. </dd></dl>

</div>
</div>
<a id="gad244931e122a46370c0c33842fef9b71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad244931e122a46370c0c33842fef9b71">&#9670;&nbsp;</a></span>MP4ReadProvider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MP4FileHandle MP4ReadProvider </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__mp4__file.html#gae5172fc7d1c94576a0cd92031fa4fdbc">MP4FileProvider</a> *&#160;</td>
          <td class="paramname"><em>fileProvider</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read an existing mp4 file. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>The file provider API is deprecated since MP4v2 2.1.0. Please use <a class="el" href="group__mp4__file.html#gae03164071fc6eb30b2d8270b080ecf24" title="Read an existing mp4 file.">MP4ReadCallbacks()</a> instead.</dd></dl>
<p>MP4ReadProvider is the first call that should be used when you want to just read an existing mp4 file. It is equivalent to opening a file for reading, but in addition the mp4 file is parsed and the control information is loaded into memory. Note that actual track samples are not read into memory until <a class="el" href="group__mp4__sample.html#ga8d62988a2bc1563546b4b420d782377b" title="Read a track sample.">MP4ReadSample()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>pathname of the file to be read. On Windows, this should be a UTF-8 encoded string. On other platforms, it should be an 8-bit encoding that is appropriate for the platform, locale, file system, etc. (prefer to use UTF-8 when possible). </td></tr>
    <tr><td class="paramname">fileProvider</td><td>custom implementation of file I/O operations. All functions in structure must be implemented. The structure is immediately copied internally.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success a handle of the file for use in subsequent calls to the library. On error, <a class="el" href="group__mp4__general.html#gafa387d447016a2c4fb1bb7e70b6e3b32" title="Constant: invalid MP4FileHandle.">MP4_INVALID_FILE_HANDLE</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__mp4__file.html#gae03164071fc6eb30b2d8270b080ecf24" title="Read an existing mp4 file.">MP4ReadCallbacks()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_2provider_2provider_8c-example.html#a10">example/provider/provider.c</a>.</dd>
</dl>

</div>
</div>
</div><!-- contents -->
<address class="footer">
    <small>
        generated on Mon Feb 14 2022 21:13:01 for <b>MP4v2 2.1.0</b>
        by <a href="https://www.doxygen.org/index.html">Doxygen</a> 1.8.17
    </small>
</address>
</body>
</html>
